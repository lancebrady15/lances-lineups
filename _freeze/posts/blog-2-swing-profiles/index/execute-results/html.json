{
  "hash": "b882eb9c304c65af35c4fa712c4bad41",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post #2: Swing Profiles\"\nauthor: \"Lance Brady\"\ndate: \"2025-02-26\"\ncategories: [swing profiles, lineups, statcast]\nformat: html\neditor: visual\nimage: blog2.jpg\nexecute:\n  eval: false\n---\n\n\n\n# Takeaways:\n\n1.  Having a variety of swing speeds on a roster may correlate with expected scoring statistics for a team over a season, but a variety of swing lengths does not.\n\n2.  On a game-by-game basis, a team's swing length consistency is correlated with better offensive production, while a team's bat speed consistency is not.\n\n3.  On a player-by-player basis, a player's swing consistency is correlated with better offensive production. This is likely because the best players have found their optimal swing lengths and bat speeds, and while they will slightly deviate from them to better match the pitcher, they have less reason to adjust over the entire season. Worse hitters need to continuously adjust their swings over the season in searching for their best swing type.\n\n## Introduction to Swing Profile Data\n\nRecent advances in Statcast technology have allowed for the direct measurement of bat speed and swing length on pitches where the batter swings. These new metrics open the door to exploring questions that were previously left to inference, scouting reports, or assumptions about mechanics.\n\nStatcast defines swing length as \"The total (sum) distance (in feet) traveled by the barrel of the bat in X/Y/Z space, from the start of bat tracking data (generally around 150 ms), up until impact point.\" In general, shorter swings–the average swing length is 7.3 feet–result in more contact and less power, just as conventional baseball wisdom would posit.\n\nSwing speed is measured \"at the point six inches from the head of the bat, what is popularly called 'the sweet-spot.'\" (MLB, 2025)\n\nNew research has focused much on the outcomes of different swing types, pointing to the idea that although no combination of swing length and speed is necessarily correct, faster bat speeds allow for a multitude of approaches, while lower bat speeds minimize margin for error (Lambert, 2024). This new data also has allowed sabermetricians to better understand the strengths of specific players. While it is would seem obvious that Giancarlo Stanton has an incredibly long and fast swing in the naked eye test, there is now data to back it up (Passan, 2024).\n\nRecent analyses using MLB's Statcast swing-tracking data have found strong statistical support for the benefits of increased swing speed, linking higher swing speeds to better quality contact without significantly higher strikeout rates (Dudzinski, 2025). While traditional baseball wisdom associates faster swings with more strikeouts, the correlation between swing speed and strikeouts was surprisingly weak. Instead, increased swing speed consistently correlated with higher average exit velocities and improved expected offensive metrics such as expected weighted on-base average (xwOBA) and expected slugging percentage (xSLG). These findings suggest hitters may improve overall performance by prioritizing bat speed, enhancing the margin for error in their swing mechanics (Dudzinski, 2025).\n\nSpecifically, we have become interested in the idea of swing consistency: How much do a batter’s bat speed and swing length deviate from pitch to pitch or from game to game? How do differing swing profiles on a roster correlate with run generation during a game?\n\n## Aim\n\nThis article addresses three connected but distinct angles on these new metrics:\n\n**Individual-Level Swing Diversity:** Do stable or volatile swing metrics for a single batter over a season correlate with that batter’s offensive success, measured through wOBA or xwOBA?\n\n**Game-Level Team Swing Diversity:** Does a club whose hitters share similar or very different swing metrics on a given day see any advantage in that day’s run production?\n\nOur analysis aims not to prove a direct cause-and-effect relationship but rather to uncover whether correlations exist that might guide roster construction, daily lineup decisions, or player development. Given that these bat speed and swing length metrics are new, we expect some initial findings to be exploratory, setting the stage for deeper or more controlled studies in the future.\n\n**Fundamental Questions Of Our Study**\n\n1.  **Individual**: Is consistency associated with higher personal performance once I factor out average skill?\n\n2.  **Game**: On a day-to-day basis, does having a consistent or varied approach correlate with daily offensive output?\n\n## Setup\n\nWe will answer these questions mainly using linear regression and multiple linear regression models predicting team runs scored in a game, over a season, and predicting xwOBA over a season from an individual's swing consistency.\n\n## Methods\n\nFor full methods and model outputs [view the full appendix here](../../appendix/blog2-appendix.qmd).\n\n## Model I: Does having a variety of average swing characteristics across players on the roster help or hurt scoring?\n\n### IA: Does Variation in Swing Length or Swing Speed individually help a Team across a season?\n\nWe will want to create a weighted standard deviation-like metric for a team's between-player swing style, either swing length or swing speed, variation. This will essentially be a weighted standard deviation of a team's player's average swing style for those two variables. I decide to give weight to each player by Plate Appearances, not by number of swings. This is because for a particular team, we do not want to overweight the free-swinging players just because they have more swing data. We want to consider player-team combinations, so that a player's plate appearances for a certain team are treated separately from their plate appearances for another team, if they played for multiple teams in this season for some reason. This will account for the fact that a player might change swing characteristics upon getting to a new team.\n\n\nTo get mean swing length for a player, we need to use only the rows from the times the batter was on that team. That means merging in batter_team_map so we can group by (batter, batter_team).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbatter_team_swing_stats <- pitches %>%\n  # Keep rows where swing_length and bat_speed are not NA\n  filter(!is.na(swing_length), !is.na(bat_speed)) %>%\n  group_by(batter, batter_team) %>%\n  summarise(\n    mean_swing_length = mean(swing_length, na.rm=TRUE),\n    mean_bat_speed = mean(bat_speed, na.rm=TRUE), # Will need in Question IB\n    sd_swing_length = sd(swing_length, na.rm=TRUE), # Will need later\n    sd_bat_speed = sd(bat_speed, na.rm=TRUE), # Will need later\n    .groups=\"drop\"\n  )\n```\n:::\n\n\n\nLEFT OFF HERE!!!\n\nFor each batter-team combination, we now have the mean swing length and bat speed, along with standard deviation. We can now calculate the weighted standard deviation of swing length for each team.\n\nWe want to first add the total PA for each batter-team combination to the `batter_team_swing_stats` data frame. This will allow us to weight the standard deviation of swing length by the number of plate appearances for each player.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbatter_team_swing_stats <- batter_team_swing_stats %>%\n  left_join(batter_team_pa_count, by=c(\"batter\", \"batter_team\"))\n```\n:::\n\n\n\nWe’ll define a small helper to compute weighted SD:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nweighted_sd <- function(x, w) {\n  w_mean <- sum(x * w, na.rm=TRUE) / sum(w, na.rm=TRUE)\n  w_var  <- sum(w * (x - w_mean)^2, na.rm=TRUE) / sum(w, na.rm=TRUE)\n  sqrt(w_var)\n}\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nteam_diversity <- batter_team_swing_stats %>%\n  group_by(batter_team) %>%\n  summarise(\n    # Weighted SD of each player's mean bat_speed\n    team_sd_mean_bat_speed = weighted_sd(mean_bat_speed, total_PA_for_that_team),\n    # Weighted SD of each player's mean swing_length\n    team_sd_mean_swing_length = weighted_sd(mean_swing_length, total_PA_for_that_team),\n    .groups=\"drop\"\n  )\n```\n:::\n\n\n\nWe now have the weighted standard deviation of swing length for each team. We can now check if this variation in swing length helps or hurts scoring. We will use wOBA and xWOBA as proxies for scoring. We will do these calculations manually as our dataset does not include all 2024 Plate Appearances so we will only focus on our subset of the data. We will use the `woba_value` and `woba_denom` column in `pitches` to calculate wOBA for each plate appearance. We will then calculate the average wOBA for each team.\n\nTypically, wOBA is credited once per completed PA (plate appearance). In many Statcast datasets, woba_value and woba_denom are only non-zero on the final pitch of the PA. However, to ensure we only count each PA once, we can explicitly slice the final pitch of each (game_pk, at_bat_number).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# We'll define \"final pitch\" as the last pitch_number in that (game_pk, at_bat_number)\nfinal_pitches <- pitches %>%\n  group_by(game_pk, at_bat_number) %>%\n  slice_max(order_by = pitch_number, n = 1) %>%\n  ungroup()\n```\n:::\n\n\n\nNow final_pitches has exactly 1 row per completed PA. This is our formula for wOBA:\n\nUpon inspecting the data, we can see that there are some rows for which `woba_value` or `woba_denom` are NA, so we will filter those out.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_pitches_clean <- final_pitches %>%\n  filter(!is.na(woba_denom), !is.na(woba_value))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nteam_woba <- final_pitches_clean %>%\n  group_by(batter_team) %>%\n  summarise(\n    total_woba_value = sum(woba_value, na.rm=TRUE),\n    total_woba_denom = sum(woba_denom, na.rm=TRUE),\n    team_wOBA = ifelse(total_woba_denom == 0, NA,\n                       total_woba_value / total_woba_denom),\n    .groups=\"drop\"\n  ) %>%\n  select(-total_woba_value, -total_woba_denom) %>%\n  arrange(desc(team_wOBA))\n```\n:::\n\n\n\nThis list seems to make sense and is in line with overall 2024 data. Typically, woba_denom is 1 for outcomes like walks, hit-by-pitch, or batted-ball events. For sacrifice flies or other rare events, it can vary slightly. The sum of woba_denom for a team is essentially the sum of PAs used in the wOBA formula (excluding some events like catcher interference or maybe intentionals, depending on how MLBAM codes them). So, its sum is essentially \"the count of wOBA-relevant plate appearances\".\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanalysis_df <- team_diversity %>%\n  left_join(team_woba,  by=\"batter_team\")\n```\n:::\n\n\n\nWe can also calculate xwOBA for each team. xwOBA is a more advanced metric that uses exit velocity and launch angle to estimate the expected wOBA for each batted ball. We will use the `estimated_woba_using_speedangle` column in `pitches` to calculate xwOBA for each batted-ball plate appearance, then account for walks, hit-by-pitches, etc. We will then calculate the average xwOBA for each team.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfinal_pitches_xwoba <- final_pitches %>%\n  filter(!is.na(estimated_woba_using_speedangle)) %>%\n  mutate(\n    xWOBA_value = estimated_woba_using_speedangle,\n    xWOBA_denom = 1\n  )\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nteam_xwoba <- final_pitches_xwoba %>%\n  group_by(batter_team) %>%\n  summarise(\n    total_xwoba_value = sum(xWOBA_value, na.rm=TRUE),\n    total_xwoba_denom = sum(xWOBA_denom, na.rm=TRUE),\n    team_xwOBA = ifelse(total_xwoba_denom == 0, NA,\n                        total_xwoba_value / total_xwoba_denom),\n    .groups=\"drop\"\n  ) %>%\n  select(-total_xwoba_value, -total_xwoba_denom) %>%\n  arrange(desc(team_xwOBA))\n```\n:::\n\n\n\nThis also seems to make sense and is in line with overall 2024 data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanalysis_df <- analysis_df %>%\n  left_join(team_xwoba, by=\"batter_team\")\n```\n:::\n\n\n\n#### Bat Speed\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(analysis_df, aes(x=team_sd_mean_bat_speed, y=team_wOBA)) +\n  geom_point() +\n  labs(\n    title=\"Team Swing Speed Diversity vs. Team wOBA\",\n    x=\"Team SD of Mean Bat Speed\",\n    y=\"Team wOBA\"\n  )+\n  theme_pub()+\n  ## Add trendline\n  geom_smooth(method=\"lm\", se=TRUE)\n```\n:::\n\n\n\nLet's create a linear model to see if there is a significant relationship between team swing speed diversity and team wOBA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_woba <- lm(team_wOBA ~ team_sd_mean_bat_speed, data=analysis_df)\nsummary(lm_woba)\n```\n:::\n\n\n\nIn this linear model, we get a negative Adjusted R-squared, signalling that there’s almost no linear relationship—in other words, once the penalty for adding a predictor is applied, the model explains less variance than just using the mean. The p-value is 0.341, which is insignificant at the 0.05 level. This suggests that there is no significant relationship between team swing speed diversity and team wOBA.\n\nLet's also check the relationship between team swing speed diversity and team xwOBA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(analysis_df, aes(x=team_sd_mean_bat_speed, y=team_xwOBA)) +\n  geom_point() +\n  labs(\n    title=\"Team Swing Speed Diversity vs. Team xwOBA\",\n    x=\"Team SD of Mean Bat Speed\",\n    y=\"Team xwOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_xwoba <- lm(team_xwOBA ~ team_sd_mean_bat_speed, data=analysis_df)\nsummary(lm_xwoba)\n```\n:::\n\n\n\nThe Adjusted R-Squared for this model is positive, and the p-value of team-level bat speed diversity has gone down to 0.177. It is possible that with more data from other seasons, we would be able to see more signficiant relationships between team-level bat speed diversity and team xwOBA.\n\nHowever, at this point, it is worth noting that our data is pointing to the possibility of a relationship, even if it is small, between team-level bat speed diversity and team xwOBA. This is worth more exploration.\n\nLet's do the same for swing length.\n\n#### Swing Length\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(analysis_df, aes(x=team_sd_mean_swing_length, y=team_wOBA)) +\n  geom_point() +\n  labs(\n    title=\"Team Swing Length Diversity vs. Team wOBA\",\n    x=\"Team SD of Mean Swing Length\",\n    y=\"Team wOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_woba <- lm(team_wOBA ~ team_sd_mean_swing_length, data=analysis_df)\nsummary(lm_woba)\n```\n:::\n\n\n\nThe Adjusted R-squared for swing length is also negative, and the p-value is 0.823, which is insignificant at the 0.05 level. This suggests that there is no significant relationship between team swing length diversity and team wOBA.\n\nLet's also check the relationship between team swing length diversity and team xwOBA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(analysis_df, aes(x=team_sd_mean_swing_length, y=team_xwOBA)) +\n  geom_point() +\n  labs(\n    title=\"Team Swing Length Diversity vs. Team xwOBA\",\n    x=\"Team SD of Mean Swing Length\",\n    y=\"Team xwOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nlm_xwoba <- lm(team_xwOBA ~ team_sd_mean_swing_length, data=analysis_df)\nsummary(lm_xwoba)\n```\n:::\n\n\n\nAgain, our Adjusted R-Squared is negative, and the p-value of the team-level swing length diversity is 0.367. This suggests that there is no significant relationship between team swing length diversity and team xwOBA.\n\nIn conclusion, we have found that there is no significant relationship between team swing length diversity and team wOBA or xwOBA. This suggests that having a variety of average swing length characteristics across players on the roster does not help or hurt scoring.\n\nIt is worth noting that our xwOBA data seems to point towards stronger relationships than our wOBA data. In theory, xwOBA is a more trustworthy measure of offensive production, because it looks to eliminate the noise of defense and luck. Sometimes including both together—or creating a combined 2D measure—can reveal patterns not evident in either metric separately.\n\nPerhaps the simplest approach is to include both predictors in the same linear model as a multiple regression model.\n\n### Multivariate Approach of Swing \"Style\"\n\n#### Multiple Regression Model\n\nIf `team_sd_mean_swing_length` was “useless” by itself, it could still contribute additional explanatory power in the presence of `team_sd_mean_bat_speed`. For example, maybe a team with both high bat‐speed diversity and high swing‐length diversity has synergy (or a deficiency).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Using wOBA\nmod_multi <- lm(team_wOBA ~ team_sd_mean_bat_speed + team_sd_mean_swing_length,\n                data = analysis_df)\nsummary(mod_multi)\n# Using xWOBA\nmod_multi <- lm(team_xwOBA ~ team_sd_mean_bat_speed + team_sd_mean_swing_length,\n                data = analysis_df)\nsummary(mod_multi)\n```\n:::\n\n\n\nThe Adjusted R-Squared for both models are negative, suggesting that while team-level bat speed variation may help explain between-team variation in xWOBA, a combined model with swing length is not providing any explanation for the variation in xWOBA or wOBA. In both models, the p-values for both predictors are also insignificant at the 0.05 level.\n\nIt is worth noting that other models with interaction and transformed predictors were considered, though nothing yielded a realistic and suitable result.\n\nGiven that all of this data analysis was done on 30 data points (30 teams), we would like to consider a team's wOBA and xWOBA for each game.\n\nTakeaway #1: Having a variety of swing speeds on a roster could correlate with expected scoring statistics for a team over a season, but a variety of swing lengths does not.\n\n### Question IB: Within a game, does consistency of a team's swings help or hurt scoring?\n\nIn this model, we can incorporate situational or day‐to‐day changes in the team’s lineup (maybe a star was resting, or they traded for a new hitter mid‐season). We will want to compute each team’s in‐game diversity of swing speed and swing length weighted by plate appearances, then comparing that to the team’s in‐game wOBA and xwOBA.\n\nFirst, we group by (game_pk, batter_team, batter) to compute the mean and median for each player in that game. We also count how many plate appearances that batter had in that game.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npitches = read.csv(\"data/statcast_data.csv\")\n\npitches <- pitches %>%\n  mutate(\n    PA_id = paste(game_pk, at_bat_number, sep=\"_\"),\n    batter_team = ifelse(inning_topbot == \"Bot\", home_team, away_team)\n  )\n\nplayer_game_allPA <- pitches %>%\n  group_by(game_pk, batter, batter_team) %>%\n  summarise(\n    total_pa_game = n_distinct(PA_id),    # all PAs in that game for that batter\n    .groups = \"drop\"\n  )\n\n# Subset to actual swings\nbatter_game_swings <- pitches %>%\n  filter(!is.na(bat_speed), !is.na(swing_length)) %>%\n  group_by(game_pk, batter, batter_team) %>%\n  summarise(\n    # mean & median for the swings that occurred\n    game_median_bat_speed    = median(bat_speed, na.rm=TRUE),\n    game_median_swing_length = median(swing_length, na.rm=TRUE),\n    .groups=\"drop\"\n  )\n```\n:::\n\n\n\nFinally, we do a left_join so that every (game, batter, team) from player_game_allPA is preserved—even if the player never swung:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbatter_game_stats <- player_game_allPA %>%\n  left_join(batter_game_swings,\n            by = c(\"game_pk\", \"batter\", \"batter_team\"))\n```\n:::\n\n\n\nSome batters (especially if they only had one PA) might have 0 swings and thus NA data for the swing columns. That is okay, as they will not effect our weighted standard deviations.\n\nNow, let's get our team-level game-by-game diversity of swing speed and swing length. We will use the same weighted standard deviation formula as before, but this time we will use the game_mean_bat_speed and game_mean_swing_length columns.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nteam_game_diversity <- batter_game_stats %>%\n  group_by(game_pk, batter_team) %>%\n  summarise(\n    # Weighted SD of each player's median (bat_speed)\n    game_sd_median_bat_speed = weighted_sd(game_median_bat_speed, total_pa_game),\n\n    # Weighted SD of each player's median (swing_length)\n    game_sd_median_swing_length = weighted_sd(game_median_swing_length, total_pa_game),\n    \n    .groups = \"drop\"\n  )\n```\n:::\n\n\n\nNow each row in team_game_diversity is a single (game_pk, batter_team) with four different “diversity” metrics (two based on mean, two based on median).\n\nNext, we will compute game-level xWOBA and wOBA for each team. We will use the same formula as before, but this time we will use the `woba_value` and `woba_denom` columns in `pitches` to calculate wOBA for each plate appearance. We will then calculate the average wOBA for each team.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngame_woba <- final_pitches_clean %>%\n  group_by(game_pk, batter_team) %>%\n  summarise(\n    total_woba_val   = sum(woba_value, na.rm=TRUE),\n    total_woba_denom = sum(woba_denom, na.rm=TRUE),\n    game_wOBA = ifelse(total_woba_denom == 0, NA,\n                       total_woba_val / total_woba_denom),\n    .groups=\"drop\"\n  ) %>%\n  select(game_pk, batter_team, game_wOBA)\n\ngame_xwoba <- final_pitches_xwoba %>%\n  group_by(game_pk, batter_team) %>%\n  summarise(\n    total_xwoba_value   = sum(xWOBA_value, na.rm=TRUE),\n    total_xwoba_denom = sum(xWOBA_denom, na.rm=TRUE),\n    game_xwOBA = ifelse(total_xwoba_denom == 0, NA,\n                        total_xwoba_value / total_xwoba_denom),\n    .groups=\"drop\"\n  ) %>%\n  select(game_pk, batter_team, game_xwOBA)\n```\n:::\n\n\n\nNow, combine into an analysis dataframe:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nanalysis_game_df <- team_game_diversity %>%\n  left_join(game_woba, by=c(\"game_pk\", \"batter_team\"))\n\nanalysis_game_df <- analysis_game_df %>%\n  left_join(game_xwoba, by=c(\"game_pk\",\"batter_team\"))\n```\n:::\n\n\n\nLet's make our models for swing length:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Median-based statistics\nmedian_woba_swing_length_model <- lm(game_wOBA ~ game_sd_median_swing_length,\n                    data=analysis_game_df)\nsummary(median_woba_swing_length_model)\n\nmedian_xwoba_swing_length_model <- lm(game_xwOBA ~ game_sd_median_swing_length,\n                    data=analysis_game_df)\nsummary(median_xwoba_swing_length_model)\n```\n:::\n\n\n\nWe tried out both mean and median-based models to ensure that outliers in the data were not influencing individual player's swing data. However, the mean-based and median-based models are showing similar results. Thus, we are going to graph just median-based results, as they are much more signficiant. These four models are all interesting though, with significant p-values for all coefficients of team swing length diversity, and positive Adjusted R-Squared values, even if incredibly small, for all models.\n\nThe coefficients for team swing length diversity are all negative, suggesting that on a game-by-game basis, a more consistent swing length is correlated with better offensive production. The p-values are all significant at the 0.05 level, suggesting that there is a significant relationship between team swing length diversity and team wOBA and xwOBA. The Adjusted R-Squared values are all positive, suggesting that the models explain some variance in team wOBA and xwOBA.\n\nThis finding is interesting, as it could point to a number of things: - Consistent team-wide swing length approaches might be best for scoring - Our team-by-team data might simply have not had enough sample size to find significant correlations\n\nOne possible explanation: The teams with the best scouting and analytics can prepare their players similarly for a particular game, allowing them to capitalize on the opponents' weaknesses or particular ballpark-related advantages.\n\nLet's make our models for bat speed:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Median-based statistics\nmedian_woba_bat_speed_model <- lm(game_wOBA ~ game_sd_median_bat_speed,\n                    data=analysis_game_df)\nsummary(median_woba_bat_speed_model)\n\nmedian_xwoba_bat_speed_model <- lm(game_xwOBA ~ game_sd_median_bat_speed,\n                    data=analysis_game_df)\nsummary(median_xwoba_bat_speed_model)\n```\n:::\n\n\n\nIn all models except 1, we got both a negative Adjusted R-Squared and an insignifcant sign of the coefficient. In our model of game-level team bat speed diversity with wOBA, we got a positive Adjusted R-Squared, but the p-value of the coefficient is insignificant at the 0.05 level, and it does not line up with the model using xWOBA, and thus, I will ignore it as likely due to random chance. This suggests that on a game-by-game basis, consistency in a team's bat speed does not correlate positively or negatively with increased scoring.\n\nThis inversion from our potential correlations in team-level bat speed diversity and team xwOBA is interesting.\n\nOne possible explanation: Throughout a season, a team that has a variety of bat speeds can more easily adapt to the many pitchers they face. In one particular game, a team's variety of bat speeds does not prove useful when they may only face two or three pitchers, provided that the starter pitches for a large portion of the game.\n\nLet's graph these scenarios, using the median variation values and xWOBA:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(analysis_game_df, aes(x=game_sd_median_swing_length, y=game_xwOBA)) +\n  geom_point() +\n  labs(\n    title=\"Team Swing Length Diversity vs. Team xwOBA\",\n    x=\"Game SD of Median Swing Length\",\n    y=\"Game xwOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n\nggplot(analysis_game_df, aes(x=game_sd_median_bat_speed, y=game_xwOBA)) +\n  geom_point() +\n  labs(\n    title=\"Team Swing Speed Diversity vs. Team xwOBA\",\n    x=\"Game SD of Median Bat Speed\",\n    y=\"Game xwOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n```\n:::\n\n\n\nTakeaway #2: On a game-by-game basis, a team's swing length consistency is correlated with better offensive production, while a team's bat speed consistency is not.\n\nThinking about Takeaways 1 and 2 together, it is possible that a team's swing length consistency in a particular game points to the idea that they have prepared for a particular set of pitchers well and are able to achieve similar swing lengths to best capitalize on the attributes of the opposing pitchers or of the ballpark. However, over an entire season, it could be advantageous to have a variety of swing speeds on a roster to be able to attack the wide variety of pitchers faced, while optimal swing lengths average out over a long season and many pitchers. It is possible that swing lengths are easier to fluctuate on a per-game basis, but swing speeds are more difficult to change, thus a variety is needed on a roster.\n\n#### Multivariate Model\n\nLet's also try one multivariate model to see if we can find a relationship between swing style consistency and xwOBA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod_multi <- lm(game_xwOBA ~ game_sd_median_bat_speed + game_sd_median_swing_length,\n                data = analysis_game_df)\nsummary(mod_multi)\n```\n:::\n\n\n\nIn this model, both bat speed and swing length are significant at the 0.05 level, and the Adjusted R-Squared is positive. This suggests that there is a significant relationship between team swing length and bat speed consistency and team xwOBA on a game-by-game basis.\n\nThis suggests that, holding swing length diversity constant, having a range of bat speeds within the lineup may help on a game-by-game basis. It could allow the team to adapt to differing pitch velocities and styles from the opposing pitchers.\n\nMeanwhile, holding bat speed diversity constant, a more consistent (less diverse) swing length appears beneficial. If everyone’s length is dialed in for that day’s pitcher(s), the team might more efficiently square up pitches or stay in the optimal “contact window.”\n\nOn a single‐game basis, these results indicate that a consistent swing length is linked to better offensive output, while some diversity in bat speed can be helpful. This aligns with the idea that hitters can unify their swing lengths to match that day’s pitchers and still bring different swing speeds to handle velocity changes or relief pitchers.\n\nOne possible explanation: For a particular game, a team's swing length helps them better adjust for ballpark dimensions or aspects of the weather/environment, but a team's bat speed diversity helps them adjust to the variety of pitchers they face.\n\n### Question II: Does a player's swing consistency help or hurt scoring?\n\nNow, we'd like to ask whether on a player-by-player basis, does a player's swing consistency during a season correlate with success at the plate? We will use the same weighted standard deviation formula as before, but this time we will use the player's mean swing length and bat speed for the season. Asked another way: Does having a consistent swing over a season correlate with a particular player generating offense.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npitches <- pitches %>%\n  mutate(\n    PA_id = paste(game_pk, at_bat_number, sep=\"_\"),\n    batter_team = ifelse(inning_topbot == \"Bot\", home_team, away_team)\n  )\n\nplayer_swing_consistency <- pitches %>%\n  filter(!is.na(swing_length), !is.na(bat_speed)) %>%\n  group_by(batter) %>%\n  summarise(\n    # Season-long means\n    mean_swing_length = mean(swing_length, na.rm=TRUE),\n    mean_bat_speed    = mean(bat_speed, na.rm=TRUE),\n    # Season-long standard deviations\n    sd_swing_length = sd(swing_length, na.rm=TRUE),\n    sd_bat_speed    = sd(bat_speed, na.rm=TRUE),\n    .groups = \"drop\"\n  )\n\n## Take out players with NA standard deviation\nplayer_swing_consistency <- player_swing_consistency %>%\n  filter(!is.na(sd_swing_length), !is.na(sd_bat_speed))\n```\n:::\n\n\n\nThis gives us one row per batter, capturing that player’s overall pitch-to-pitch variation in swing metrics across the entire season.\n\nNow, let's calculate xWOBA for all players over the season.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# We'll define \"final pitch\" as the last pitch_number in that (game_pk, at_bat_number)\nfinal_pitches <- pitches %>%\n  group_by(game_pk, at_bat_number) %>%\n  slice_max(order_by = pitch_number, n = 1) %>%\n  ungroup()\n\nfinal_pitches_xwoba <- final_pitches %>%\n  filter(!is.na(estimated_woba_using_speedangle)) %>%\n  mutate(\n    xWOBA_value = estimated_woba_using_speedangle,\n    xWOBA_denom = 1\n  )\n\nplayer_xwoba <- final_pitches_xwoba %>%\n  group_by(batter) %>%\n  summarise(\n    total_xwoba_value = sum(xWOBA_value, na.rm=TRUE),\n    total_xwoba_denom = sum(xWOBA_denom, na.rm=TRUE),\n    player_xwOBA = ifelse(total_xwoba_denom == 0, NA,\n                          total_xwoba_value / total_xwoba_denom),\n    .groups=\"drop\"\n  ) %>%\n  select(batter, player_xwOBA)\n```\n:::\n\n\n\nNow, combine into an analysis dataframe:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplayer_analysis_df <- player_swing_consistency %>%\n  left_join(player_xwoba, by=\"batter\")\n```\n:::\n\n\n\nLet's graph these scenarios, using the median variation values and xWOBA:\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(player_analysis_df, aes(x=sd_swing_length, y=player_xwOBA)) +\n  geom_point() +\n  labs(\n    title=\"Player Swing Length Consistency vs. Player xwOBA\",\n    x=\"Player SD of Swing Length\",\n    y=\"Player xwOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n\nggplot(player_analysis_df, aes(x=sd_bat_speed, y=player_xwOBA)) +\n  geom_point() +\n  labs(\n    title=\"Player Bat Speed Consistency vs. Player xwOBA\",\n    x=\"Player SD of Bat Speed\",\n    y=\"Player xwOBA\"\n  )+\n  theme_pub()+\n  geom_smooth(method=\"lm\", se=TRUE)\n```\n:::\n\n\n\nLet's also create linear models to see if there is a significant relationship between player swing consistency and player xwOBA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel_sd_swing_length <- lm(player_xwOBA ~ mean_swing_length + sd_swing_length, data=player_analysis_df)\nsummary(model_sd_swing_length)\n\nmodel_sd_bat_speed <- lm(player_xwOBA ~ mean_bat_speed + sd_bat_speed, data=player_analysis_df)\nsummary(model_sd_bat_speed)\n```\n:::\n\n\n\nIn both models, the Adjusted R-Squared is positive, and the p-value of the coefficient is significant at the 0.05 level. This suggests that there is a significant relationship between player swing consistency and player xwOBA for both swing length and bat speed. The coefficients are negative, suggesting that a more consistent swing length and bat speed is correlated with better offensive production. This likely points to the idea that the best hitters have found optimal swing lengths and bat speeds, and while they will likely slightly deviate from them to better match the pitcher, they have less reason to adjust over the entire season. Worse hitters need to continuously adjust their swings over the season in searching for their best swing type.\n\n#### Multivariate Model\n\nLet's also try one multivariate model to see if we can find a relationship between player swing consistency and xwOBA.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmod_multi <- lm(player_xwOBA ~ mean_swing_length + mean_bat_speed + sd_swing_length + sd_bat_speed,\n                data = player_analysis_df)\nsummary(mod_multi)\n\nlibrary(car)\nvif(mod_multi)\n\n## Show collinearity between predictors\ncor(player_analysis_df$sd_swing_length, player_analysis_df$sd_bat_speed)\ncor(player_analysis_df$mean_swing_length, player_analysis_df$mean_bat_speed)\ncor(player_analysis_df$mean_swing_length, player_analysis_df$sd_swing_length)\ncor(player_analysis_df$mean_bat_speed, player_analysis_df$sd_bat_speed)\n```\n:::\n\n\n\nAlthough our VIF values are all less than 5, suggesting that multicollinearity is likely not a problem and just a result of using real imperfect data, we can try to create a \"mechanical variability\" combined component using Principal Components Analysis to combine the two predictors into one.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Step 1: Standardize variables\nplayer_analysis_df <- player_analysis_df %>%\n  mutate(\n    sd_swing_length_scaled = scale(sd_swing_length),\n    sd_bat_speed_scaled = scale(sd_bat_speed)\n  )\n\n# Step 2: Perform PCA\npca_model <- prcomp(player_analysis_df[, c(\"sd_swing_length_scaled\", \"sd_bat_speed_scaled\")],\n                    center = TRUE, scale. = TRUE)\n\n# Step 3: Add first principal component to the dataset\nplayer_analysis_df <- player_analysis_df %>%\n  mutate(mechanical_variability = pca_model$x[, 1])\n\n# Check PCA results\nsummary(pca_model)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nmodel <- lm(player_xwOBA ~ mean_swing_length + mean_bat_speed + mechanical_variability,\n            data = player_analysis_df)\nsummary(model)\n\nvif(model)\n```\n:::\n\n\n\nOur VIFs are again under 5, signalling that this is a good model.\n\nTakeaway #3: On a player-by-player basis, a player's swing consistency is correlated with better offensive production. This is likely because the best players have found their optimal swing lengths and bat speeds, and while they will slightly deviate from them to better match the pitcher, they have less reason to adjust over the entire season. Worse hitters need to continuously adjust their swings over the season in searching for their best swing type.\n\n## Discussion\n\n## References\n\nDudzinski, R. (2025, January 30). *The data is in from MLB— swing hard, just in case you hit it*. Medium. [https://medium.com/\\@robbiedudz34/the-data-is-in-from-mlb-swing-hard-just-in-case-you-hit-it-220cae1af5ca](https://medium.com/@robbiedudz34/the-data-is-in-from-mlb-swing-hard-just-in-case-you-hit-it-220cae1af5ca)\n\n*Fast-swing rate*. (n.d.). MLB.com. <https://www.mlb.com/glossary/statcast/fast-swing-rate>\n\nLambert, J. (2024, August 1). *Using MLB bat tracking data to better understand swings*. Driveline Baseball. <https://www.drivelinebaseball.com/2024/07/using-mlb-bat-tracking-data-to-better-understand-swings/?srsltid=AfmBOopwi5JuXS1YWSWq4ny_NNrcHio0S1pASMeH0vXtOY1mZug93TOx>\n\nPassan, J. (2024, May 13). *Passan: The five biggest takeaways from Statcast's swing-tracking data*. ESPN.com. <https://www.espn.com/mlb/story/_/id/40120458/mlb-statcast-bat-tracking-data-giancarlo-stanton-luis-arraez>\n\n*Swing length*. (n.d.). MLB.com. <https://www.mlb.com/glossary/statcast/swing-length>\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}